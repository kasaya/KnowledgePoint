<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Kasaya 咔酱,kasaya@qq.com"><title>【activiti 工作流】关于acitiviti 和 spring boot 集成遇到的一些问题总结 · SLAYERS</title><meta name="description" content="最近在调查activiti工作流的事。项目上打算做一个工作流服务，给微服务中的一些需要流程定义的服务用。所以我尝试用spring boot集成activiti。以下是我调查中遇到的一些问题和一些调查到的结果。
1. activity7 与 activity6 与 activiti cloud   a"><meta name="keywords" content="Spring,Spring Cloud,Java,JVM"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title><a href="/">SLAYERS</a></h3><div class="description"><p>老板！再来一碗！</p></div></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/head.jpg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>【activiti 工作流】关于acitiviti 和 spring boot 集成遇到的一些问题总结</a></h3></div><div class="post-content"><p>最近在调查activiti工作流的事。项目上打算做一个工作流服务，给微服务中的一些需要流程定义的服务用。所以我尝试用spring boot集成activiti。以下是我调查中遇到的一些问题和一些调查到的结果。</p>
<h4 id="1-activity7-与-activity6-与-activiti-cloud"><a href="#1-activity7-与-activity6-与-activiti-cloud" class="headerlink" title="1. activity7 与 activity6 与 activiti cloud"></a>1. activity7 与 activity6 与 activiti cloud</h4><p>   activity cloud 不知道怎么使用，但是看官方解释比较适合云服务（spring cloud)便于扩展，但是activity cloud 貌似是云平台。因为不会搭建，所以就放弃了。activity7 与 activity6 相比，7 多了processruntime与taskruntime 两个类。这两个类需要与security 一起使用，官方里对于TaskRuntime API 有这样一段话：</p>
<blockquote>
<p>Something important to notice here, is that in order to interact with the TaskRuntime API as a user, you need to have the role: ACTIVITI_USER (Granted Authority: ROLE_ACTIVITI_USER) .</p>
</blockquote>
<p>因为我项目还没和spring security 集成起来，所以就只好不用这两个类了。我的做法是用activity7 的core,但是还是用 6.0使用方式。</p>
<p>继承方式很简单，在pom里引入就OK了</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">     <span class="tag">&lt;<span class="name">activiti-dependencies.version</span>&gt;</span>7.0.0.SR1<span class="tag">&lt;/<span class="name">activiti-dependencies.version</span>&gt;</span></span><br><span class="line">     ... ...</span><br><span class="line">     </span><br><span class="line">     <span class="comment">&lt;!--activiti starter--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.activiti<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activiti-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Activiti生成流程图 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.activiti<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activiti-image-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-activity-数据表遇到的问题"><a href="#2-activity-数据表遇到的问题" class="headerlink" title="2. activity 数据表遇到的问题"></a>2. activity 数据表遇到的问题</h4><p>首先是基本25张表</p>
<blockquote>
<p>ACT_GE_* : “GE”代表“General”（通用）<br> ACT_HI_* : “HI”代表“History”（历史） 这些表中保存的都是历史数据，比如执行过的流程实例、变量、任务，等等<br> ACT_ID_* : “ID”代表“Identity”（身份）这些表中保存的都是身份信息，如用户和组以及两者之间的关系。如果Activiti被集成在某一系统当中的话，这些表可以不用，可以直接使用现有系统中的用户或组信息<br> ACT_RE_* : “RE”代表“Repository”（仓库） 这些表中保存一些‘静态’信息，如流程定义和流程资源（如图片、规则等）<br> ACT_RU_* : “RU”代表“Runtime”（运行时）这些表中保存一些流程实例、用户任务、变量等的运行时数据。Activiti只保存流程实例在执行过程中的运行时数据，并且当流程结束后会立即移除这些数据，这是为了保证运行时表尽量的小并运行的足够快；</p>
</blockquote>
<p>其中 <strong>history-level: full</strong> 这个参数关系着是否会生成<strong>ACT_HI_*</strong>的系列表。<strong>ACT_ID_*</strong> 这个系列的表在7里已经没有了。</p>
<blockquote>
<p>none：不保存任何的历史数据，因此，在流程执行过程中，这是最高效的。<br>activity：级别高于none，保存流程实例与流程行为，其他数据不保存。<br>audit：除activity级别会保存的数据外，还会保存全部的流程任务及其属性。audit为history的默认值。<br>full：保存历史数据的最高级别，除了会保存audit级别的数据外，还会保存其他全部流程相关的细节数据，包括一些流程参数等。<br><a href="https://www.jianshu.com/p/ef3561791f27" target="_blank" rel="noopener">参照： activiti学习笔记(十八) History</a></p>
</blockquote>
<p>其次，如果使用的是mysql数据库，在通一个mysql服务器上不能有两个用于activiti的基础数据库。例如，数据库A已经有一套表结构了，如果打算将schema 切换到b想再生成一套新的表结构，这样是会生成失败的。下面连接里楼主说的就是这种情况，我debug代码追踪的结果也和楼主讲的一样，只要删除掉其中一个，就能正常运行了。<a href="https://blog.csdn.net/icezcity/article/details/80859335" target="_blank" rel="noopener">参照：一个MySql实例自动创建多个Activiti数据库问题</a></p>
<h4 id="3-activity-与-spring-boot-集成时遇到的问题"><a href="#3-activity-与-spring-boot-集成时遇到的问题" class="headerlink" title="3. activity 与 spring boot 集成时遇到的问题"></a>3. activity 与 spring boot 集成时遇到的问题</h4><p> 如果是想在yml下配置，用这样的方式就能正常生成表 并启动。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring：</span></span><br><span class="line"><span class="attr">  activiti:</span></span><br><span class="line"><span class="attr">    db-history-used:</span> <span class="literal">true</span> </span><br><span class="line"><span class="attr">    database-schema:</span> <span class="string">activity</span> <span class="comment">#指定数据库schema</span></span><br><span class="line"><span class="attr">    history-level:</span> <span class="string">full</span></span><br><span class="line"><span class="attr">    async-executor-activate:</span> <span class="literal">true</span> <span class="comment">#开启异步，定时任务</span></span><br><span class="line"><span class="attr">    database-schema-update:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>关于 database-schema-update:<br>flase： 默认值。activiti在启动时，会对比数据库表中保存的版本，如果没有表或者版本不匹配，将抛出异常。<br>true： activiti会对数据库中所有表进行更新操作。如果表不存在，则自动创建。<br>create_drop： 在activiti启动时创建表，在关闭时删除表（必须手动关闭引擎，才能删除表）。<br>drop-create： 在activiti启动时删除原来的旧表，然后在创建新表（不需要手动关闭引擎）。</p>
</blockquote>
<p>如果是想用bean自己配置，参考以下方式。 我第一次用bean配置的时候，出现了表无法生成的情况。一开始没有使用SpringProcessEngineConfiguration，并且调用configuration.buildProcessEngine() 生成ProcessEngine，不知道为什么就是无法将HistoryLevel的值设进去，后来修改了写法后就成功了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> SpringProcessEngineConfiguration <span class="title">processEngineConfiguration</span><span class="params">(DataSource dataSource, PlatformTransactionManager manager)</span></span>&#123;</span><br><span class="line">    SpringProcessEngineConfiguration configuration =  <span class="keyword">new</span> SpringProcessEngineConfiguration();</span><br><span class="line">    configuration.setDataSource(dataSource);</span><br><span class="line">    configuration.setTransactionManager(manager);</span><br><span class="line">    configuration.setAsyncExecutorActivate(<span class="keyword">true</span>);</span><br><span class="line">    configuration.setHistoryLevel(HistoryLevel.FULL);</span><br><span class="line">    configuration.setDatabaseSchema(<span class="string">"activity"</span>);</span><br><span class="line">    configuration.setDbHistoryUsed(<span class="keyword">true</span>);</span><br><span class="line">    configuration.setDatabaseSchemaUpdate(DB_SCHEMA_UPDATE_TRUE);</span><br><span class="line">    configuration.setEnableDatabaseEventLogging(<span class="keyword">true</span>); <span class="comment">//是否开启dblog</span></span><br><span class="line">    <span class="keyword">return</span> configuration;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-activity-使用时遇到的问题"><a href="#4-activity-使用时遇到的问题" class="headerlink" title="4. activity 使用时遇到的问题"></a>4. activity 使用时遇到的问题</h4><ul>
<li>七大service接口<br><img src="/2019/08/03/activiti-spring-boot/1.png" alt="某书里介绍的"><br>实际上在7里， <strong>IdentifyService, FormService</strong> 已经没有了。基本上剩下的service对应的就是数据库里每个类别的表的操作。</li>
<li>如何调用restful接口（其他微服务接口）<br>使用serviceTask，通过实现JavaDelegate 来实现调用外部restful接口</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">serviceTask</span> <span class="attr">id</span>=<span class="string">"vacation_service"</span> <span class="attr">name</span>=<span class="string">"假期处理"</span> <span class="attr">activiti:delegateExpression</span>=<span class="string">"$&#123;jumpService&#125;"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">extensionElements</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activiti:field</span> <span class="attr">name</span>=<span class="string">"restUrl"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">activiti:string</span>&gt;</span>&lt;![CDATA[http://stores/decreaseDay]]&gt;<span class="tag">&lt;/<span class="name">activiti:string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activiti:field</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activiti:field</span> <span class="attr">name</span>=<span class="string">"param"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">activiti:string</span>&gt;</span>&lt;![CDATA[day,businessKey,action]]&gt;<span class="tag">&lt;/<span class="name">activiti:string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activiti:field</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">extensionElements</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">serviceTask</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JumpService</span> <span class="keyword">implements</span> <span class="title">JavaDelegate</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Logger logger = LoggerFactory.getLogger(JobServiceImpl.class);</span><br><span class="line">    <span class="comment">//restTemplate 配置了ribbon</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    RestTemplate restTemplate;</span><br><span class="line">    <span class="comment">//调用地址</span></span><br><span class="line">    <span class="keyword">private</span> Expression restUrl;</span><br><span class="line">    <span class="comment">// 参数</span></span><br><span class="line">    <span class="keyword">private</span> Expression param;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRestUrl</span><span class="params">(Expression restUrl)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.restUrl = restUrl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setParam</span><span class="params">(Expression param)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.param = param;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(DelegateExecution delegateExecution)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//取得从xml中传过来的参数列表</span></span><br><span class="line">        String params = (String) param.getValue(delegateExecution);</span><br><span class="line">        <span class="comment">//取得从xml中传过来的地址</span></span><br><span class="line">        String strUrl = (String) restUrl.getValue(delegateExecution);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//<span class="doctag">TODO:</span>通过调用restTemplate来调用其他微服务接口,或者暴露的restful接口</span></span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://www.lmlphp.com/user/2439/article/item/31576/" target="_blank" rel="noopener">参照：activiti6.x调用RESTful服务例子</a></p>
<ul>
<li>关于scriptTask 脚本任务的使用<br>如果要使用groovy 脚本，需要引入jar包到pom中</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.groovy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>groovy-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>编写一个获取spring bean的工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringContextUtil</span> <span class="keyword">implements</span> <span class="title">ApplicationContextAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">getBean</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> applicationContext.getBean(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setApplicationContext</span><span class="params">(ApplicationContext applicationContext)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        SpringContextUtil.applicationContext = applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ApplicationContext <span class="title">getApplicationContext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后就可以在脚本中引入工具类后，在脚本中使用这些bean来完成业务了</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">scriptTask</span> <span class="attr">id</span>=<span class="string">"cancel_claim"</span> <span class="attr">name</span>=<span class="string">"取消认领"</span> <span class="attr">scriptFormat</span>=<span class="string">"groovy"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">         import org.activity.util.SpringContextUtil</span></span><br><span class="line"><span class="undefined">         import org.activiti.engine.TaskService</span></span><br><span class="line"><span class="undefined">         import org.activiti.engine.task.Task</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">         def taskService = SpringContextUtil.getBean("taskServiceBean");</span></span><br><span class="line"><span class="undefined">         def task = taskService.createTaskQuery().taskId(taskId).singleResult();</span></span><br><span class="line"><span class="undefined">         if (task == null) &#123;</span></span><br><span class="line"><span class="undefined">            println("审核任务ID:"+ taskId+"查询到任务为空！");</span></span><br><span class="line"><span class="undefined">         &#125;else if(task.getAssignee())&#123;</span></span><br><span class="line"><span class="undefined">            taskService.unclaim(taskId);</span></span><br><span class="line"><span class="undefined">            println("审核任务ID:"+ taskId+"取消认领完成");</span></span><br><span class="line"><span class="undefined">         &#125;else&#123;</span></span><br><span class="line"><span class="undefined">            println("审核任务ID:"+ taskId+"未被认领");</span></span><br><span class="line"><span class="undefined">         &#125;</span></span><br><span class="line"><span class="undefined">      </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">scriptTask</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>值得注意的是，生成activiti的五大类的bean的地方是在<strong>AbstractProcessEngineConfiguration</strong>这个类中。所以向要使用什么类，在这个类中查看具体的类名。</p>
<hr>
<p>以上就是到目前为止的调查结果。如果还有新的内容会在后面更新~</p>
<p>附件参照：<a href="https://activiti.gitbook.io/activiti-7-developers-guide/" target="_blank" rel="noopener">activiti 7 官方说明文档</a> 、<a href="https://www.activiti.org/userguide/#JMX" target="_blank" rel="noopener">activiti 6 官方使用文档</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2019-08-03</span><i class="fa fa-tag"></i><a class="tag" href="/categories/activiti/" title="activiti">activiti </a><a class="tag" href="/tags/spring-boot/" title="spring boot">spring boot </a><a class="tag" href="/tags/activiti7/" title="activiti7">activiti7 </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2019/08/03/activiti-spring-boot/,SLAYERS,【activiti 工作流】关于acitiviti 和 spring boot 集成遇到的一些问题总结,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2019/08/03/activiti-countersign/" title="【activiti 工作流】activiti 7 中多实例并行会签的实现">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2019/06/01/zuul-cros/" title="zuul实现Cros跨域的两种方式(https)">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>